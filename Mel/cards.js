var data = [{
    imgSrc: 'img/articles/10.png',
    blogText: '«Мы все стали заложниками системы». Что делают с нами ставки на успешность учеников и другие шаблоны',
    iconViews: '1 801',
    iconComment: '19',

},
{
    imgSrc: 'img/articles/11.png',
    blogText: 'Без бесполезных физры и ОБЖ: как семейное обучение экономит время детей',
    iconViews: '1 802',
    iconComment: '21',

},
{
    imgSrc: 'img/articles/12.jpg',
    blogText: '5 приключенческих книг, от которых невозможно оторваться',
    iconViews: '1 803',
    iconComment: '22',
    readTimeIcon: ` `,

},
{
    imgSrc: 'img/articles/13.jpg',
    blogText: 'Получить образование в США и не разориться: как сэкономить на учёбе $40 000',
    iconViews: '1 789',
    iconComment: '22',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/14.jpg',
    blogText: 'Мама почти ничего мне не запрещала": чего ждут от нас дети',
    iconViews: '1 823',
    iconComment: '18',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/15.jpg',
    blogText: 'Как мы учились этим летом: дни самоуправления, неделя Испании и уроки',
    iconViews: ' 1 843',
    iconComment: '24',
},
{
    imgSrc: 'img/articles/16.jpg',
    blogText: 'Почему школе пора отказаться от «выканья»',
    iconViews: ' 1 813',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/18.jpg',
    blogText: '«В нашей школе прогулы стали массовыми»: кто и как прогуливает школу',
    iconViews: ' 1 849',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/19.jpg',
    blogText: '12 книг-бестселлеров для детей и подростков',
    iconViews: '1 853',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/20.jpg',
    blogText: 'Как мы учились этим летом: дни самоуправления, неделя Испании и уроки',
    iconViews: ' 1 822',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/21.jpg',
    blogText: '7 признаков классного учителя',
    iconViews: ' 1 811',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/22.png',
    blogText: 'Подростковые конфликты: как их решить личным примером',
    iconViews: ' 1 809',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/23.jpg',
    blogText: 'Почему дети воруют: тревога, принуждение и не только',
    iconViews: '1 812',
    iconComment: '19',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/24.png',
    blogText: 'Как мы учились этим летом: дни самоуправления, неделя Испании и уроки',
    iconViews: '1123',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/25.jpg',
    blogText: '5 правил хорошего репетитора',
    iconViews: ' 1 813',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/26.jpg',
    blogText: '«Бьёт — значит любит» и «самадуравиновата»: как семья и общество поддерживают насилие',
    iconViews: ' 1 899',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/27.jpg',
    blogText: '5 эффективных способов избавиться от языкового барьера',
    iconViews: '1 813',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/28.jpg',
    blogText: '«А ещё кружок по фото»: зачем мы так загружаем детей и кому это выгодно',
    iconViews: ' 1 813',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/29.jpg',
    blogText: 'Как отпустить ребёнка жить в другом городе: 4 важных фактора',
    iconViews: ' 1 813',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/30.jpg',
    blogText: 'Как сдать ЕГЭ без репетиторов, регистрации и СМС',
    iconViews: ' 1 899',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/31.jpg',
    blogText: '6 книг, которые помогут в решении семейных проблем',
    iconViews: '1 813',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/32.jpg',
    blogText: '«Он первый начал!»: как взрослые поощряют маленькое насилие',
    iconViews: ' 1 813',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/33.jpg',
    blogText: 'От свободы к вседозволенности: как сохранять баланс в воспитании',
    iconViews: ' 1 813',
    iconComment: '22',
    readTimeIcon: ` `,

},
{
    imgSrc: 'img/articles/34.jpg',
    blogText: 'Не ругайте ребёнка за лень. Лучше разберитесь, почему он «ленится»',
    iconViews: ' 1 899',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/35.jpg',
    blogText: 'Что после титров? 5 сериалов по мотивам популярных мультфильмов',
    iconViews: '1 813',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/36.jpg',
    blogText: 'Что такое целевое направление и стоит ли игра свеч',
    iconViews: ' 1 813',
    iconComment: '22',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/37.png',
    blogText: '3 способа помочь ребёнку развить инициативу',
    iconViews: ' 1 813',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/38.png',
    blogText: '«Ты тупая, потому что в школу не ходишь»: как пугают тех, кто выбирает образование вне школы',
    iconViews: ' 1 899',
    iconComment: '22',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/39.jpg',
    blogText: 'Старшеклассник-репетитор: идея, как изменить школу',
    iconViews: '1 813',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/40.jpg',
    blogText: '10 знаменитых мальчиков-сирот в детской литературе',
    iconViews: ' 1 813',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/41.jpg',
    blogText: '6 книг, которые станут отличным подарком к Новому году',
    iconViews: ' 1 813',
    iconComment: '22',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/42.png',
    blogText: '3 простых совета, как «отлепить» ребёнка от экрана',
    iconViews: ' 1 899',
    iconComment: '22',
    readTimeIcon: ` `,
},
{
    imgSrc: 'img/articles/43.jpg',
    blogText: 'Это ваши права: всё про семейное и заочное обучение',
    iconViews: '1 810',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/44.jpg',
    blogText: 'Как мы учились этим летом: дни самоуправления, неделя Испании и уроки',
    iconViews: ' 1 809',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/45.jpg',
    blogText: '7 причин, почему дети не хотят учиться',
    iconViews: '1 825',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/46.jpg',
    blogText: '«Ты молодец, но…»: стоит ли критиковать детей',
    iconViews: ' 1 899',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/47.jpg',
    blogText: 'Как написать план на ЕГЭ по обществознанию на максимальный балл',
    iconViews: '1 813',
    iconComment: '19',
},
{
    imgSrc: 'img/articles/48.jpg',
    blogText: 'День благодарения: индейка, тыквенный пирог и традиции',
    iconViews: ' 1 813',
    iconComment: '22',
},
{
    imgSrc: 'img/articles/49.jpg',
    blogText: '«Пока, любимый! Мама пойдёт выпьет кофе». Как живёт итальянский детский сад',
    iconViews: ' 1 813',
    iconComment: '22',

},
{
    imgSrc: 'img/articles/50.jpg',
    blogText: 'Как не перегореть до начала экзаменов',
    iconViews: ' 1 813',
    iconComment: '22',
    readTimeIcon: ` `,
}
]


document.getElementById("sort1").addEventListener('click', function (event) { 

    var element = document.getElementById("articles");
    while (element.firstChild) {
     element.removeChild(element.firstChild);
 }

 data.sort(compareNames);    
 for (i = 0; i < 8; i++) {
    createCard(i);
}



}); 

document.getElementById("sort2").addEventListener('click', function (event) { 
    var element = document.getElementById("articles");
    while (element.firstChild) {
     element.removeChild(element.firstChild);
 }
 data.sort(compareViews);

 for (i = 0; i < 8; i++) {
    createCard(i);
}



}); 


function compareNames(a, b) {

  const blogTextA = a.blogText.toUpperCase();
  const blogTextB = b.blogText.toUpperCase();

  let comparison = 0;
  if (blogTextA > blogTextB) {
    comparison = 1;
} else if (blogTextA < blogTextB) {
    comparison = -1;
}
return comparison;
}

function compareViews(a, b) {

  const iconViews1 = a.iconViews.toUpperCase();
  const iconViews2 = b.iconViews.toUpperCase();

  let comparison = 0;
  if (iconViews1 > iconViews2) {
    comparison = 1;
} else if (iconViews1 < iconViews2) {
    comparison = -1;
}
return comparison;
}


let filter = function() {
    let input = document.getElementById('filter-input');
    input.addEventListener('keyup', function() {
        let filter = input.value.toLowerCase(),
        filterElements = document.querySelectorAll( '.cardsText');

        filterElements.forEach(item => {
            if(item.innerHTML.toLowerCase().indexOf(filter) > -1) {
             item.style.display = '';
         }
         else {
             articles.style.display = 'none';

         }
     })
    })
};


function createCard(i) {

    var card = document.createElement('article');
    var imgSrc = data[i].imgSrc;
    var text = data[i].blogText;
    var iconViews = data[i].iconViews;
    var iconComment = data[i].iconComment;

    var description = getCardsInfo(data[i])
    var wrapper = document.getElementById('articles');
    card.innerHTML = `
    <img src="${imgSrc}" alt="Изображение" title="Изображение">
    <p class="cardsBlogs"> Блоги </p>
    <p class="cardsText"> ${text}
    <div class="articleInfo">
    <div class="articleViwes">
    ${description}
    </div>
    </div>`;
    wrapper.appendChild(card);
}

function getCardsInfo(item) {
    if (item.readTimeIcon) {
        return ` <i class="fas fa-clock"></i> Читать: 3 минуты${item.readTimeIcon}`
    } else {
        return `<div class="articleViwes">
        <i class="far fa-eye"></i> ${item.iconViews}
        </div>
        <div class="articleViwes">
        <i class="fas fa-comment-alt"></i> ${item.iconComment}
        </div>`;
    }
}

function pastTemplate() {
    var card = document.querySelector('#tmpl')
    var imgSrc = data[i].imgSrc;
    var text = data[i].blogText;
    var iconViews = data[i].iconViews;
    var iconComment = data[i].iconComment;

    var cardContent = card.content;
    cardContent.querySelector('.cardsText').innerText = `${text}`;
    cardContent.querySelector(".articleInfo").innerHTML = `<i class="far fa-eye"></i> ${iconViews}
    </div>
    <div class="articleViwes">
    <i class="fas fa-comment-alt"></i> ${iconComment}`;

    cardContent.querySelector('.canvas').src = `${imgSrc}`;

    var clone = document.importNode(card.content, true);

    articles.appendChild(clone);
}

var startPoint = 0;
let numbersOfElementsToShow = 4;

function moreArticles(startPoint, numbersOfElementsToShow) {
    for (i = startPoint; i < numbersOfElementsToShow; i++) {

        if (numbersOfElementsToShow > data.length) {
            numbersOfElementsToShow == data.length;
        }
        if (startPoint >= data.length) {
            containerToCreat = document.createElement('');
        }
        var imgSrc = data[i].imgSrc;
        var text = data[i].blogText;
        var description = getCardsInfo(data[i])
        var containerToCreat = document.createElement('article');
        containerToCreat.innerHTML = `<img src="${imgSrc}" alt="Изображение" title="Изображение">
        <p class="cardsBlogs"> Блоги </p>
        <p class="cardsText"> ${text}
        <div class="articleInfo">
        <div class="articleViwes">
        ${description}
        </div>
        </div>`;

        var blogsList = document.getElementById('articles');
        blogsList.appendChild(containerToCreat);
        getCardsInfo(containerToCreat);
    }
}



moreArticlesButton.addEventListener("click", (function() {
   moreArticles(startPoint = startPoint + 5, numbersOfElementsToShow += 5)}))
//startPoint = startPoint + 5, numbersOfElementsToShow += 5);


for (i = 0; i < 8; i++) {
    //pastTemplate();

    createCard(i);

}

moreArticles();


function sortFunction() {
  document.getElementById("mySort").classList.toggle("show");
}

window.onclick = function(event) {
  if (!event.target.matches('.sortBtn')) {
    var dropdowns = document.getElementsByClassName("sortArticlesContent");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
    }
}
}
}




